document.addEventListener("alpine:init",()=>{Alpine.data("grapesjs",({state:t,statePath:d,readOnly:g,tools:i,minHeight:l,container:e,plugins:s,settings:n})=>({instance:null,state:t,tools:i,plugins:s,settings:n,init(){let p={},o={height:l+"px",container:e||".filament-grapesjs .grapesjs-wrapper",showOffsets:!0,fromElement:!0,noticeOnUnload:!1,storageManager:!1,loadHtml:t,plugins:s,...n};this.instance=grapesjs.init(o),this.instance.on("update",m=>{var r=this.instance.getHtml({cleanId:!0}),a=r.match(/<body\b[^>]*>([\s\S]*?)<\/body>/);if(a){let c=a[1],h=this.instance.getCss();this.state="<style>"+h+"</style>"+c}else this.state=this.instance.getHtml()})}}))});
